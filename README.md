# Сервис удаленной аттестации

Этот сервис предназначен для удаленной аттестации системы с использованием чипа TPM. TPM - это микросхема, которая используется для обеспечения безопасности компьютерной системы путем хранения и защиты криптографических ключей, аутентификации запущенного программного обеспечения и проверки целостности системы.

Сервис удаленной аттестации предоставляет API-методы для выполнения аттестации и получения результатов в формате JSON. Он позволяет убедиться, что запущенная система соответствует определенным требованиям безопасности, что особенно важно при работе с конфиденциальными данными или выполнении операций, связанных с финансовыми транзакциями.

Для запуска этого сервиса вам необходимо иметь на своей компьютере чип TPM.

## Запуск сервиса
Сервис можно запустить с помощью Docker. Для этого выполните следующие шаги:

1. Установите Docker на свой компьютер.

2. Склонируйте репозиторий с кодом сервиса на свой компьютер.

3. Откройте терминал и перейдите в директорию с кодом сервиса.

4. Выполните следующую команду:

```bash
sudo docker build -t attestation-service .
```

```bash
sudo docker run --privileged -v /dev/tpm0:/dev/tpm0 -v /dev/tpmrm0:/dev/tpmrm0 -p 5000:5000 -it attestation-service 
```

Эта команда скомпилирует образ Docker и запустит контейнер с сервисом.

## Описание сервиса
Сервис удаленной аттестации предоставляет два API-метода:

* **/challenge** - выполняет аттестацию и возвращает результат в формате JSON. Результат содержит значение quote - криптографическую подпись данных, полученную с помощью чипа TPM.
* **/certificate** - возвращает публичный ключ и значения PCR (Platform Configuration Registers) в формате JSON. Значения PCR позволяют убедиться, что запущенная система соответствует определенным требованиям безопасности.

## Проверка работоспособности

Чтобы проверить работоспособность сервиса, выполните следующие шаги:

1. Откройте терминал и выполните следующую команду:

```
curl http://localhost:5000/challenge
```

Она должна вернуть JSON-объект с криптографической подписью данных.

2. Выполните следующую команду:

```
curl http://localhost:5000/certificate
```

Она должна вернуть JSON-объект с публичным ключом и значениями PCR.

Если обе команды успешно выполнены, значит сервис удаленной аттестации работает корректно.
